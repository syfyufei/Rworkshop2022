<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>ç½‘ç»œçˆ¬è™«è¿›é˜¶</title>
    <meta charset="utf-8" />
    <meta name="author" content="Sun Yufei" />
    <meta name="date" content="2022-04-09" />
    <script src="libs/header-attrs-2.13/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link rel="stylesheet" href="zh-CN_custom.css" type="text/css" />
    <link rel="stylesheet" href="styles.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# ç½‘ç»œçˆ¬è™«è¿›é˜¶
## R workshop Lecture6
### Sun Yufei
### Department of Political Science, Tsinghua University
### 2022-04-09

---


## Outline

- åˆçª¥é—¨å¾„ï¼šçˆ¬è™«åŸºç¡€çŸ¥è¯†

- åˆ©åˆƒå‡ºé˜ï¼šæˆ‘ä»¬çš„çˆ¬è™«å·¥å…·ç®±

- å°è¯•ç‰›åˆ€ï¼šå¦‚ä½•ä½¿ç”¨RæŠ“å–æ”¿åºœç½‘é¡µ

- å¤§è¯•ç‰›åˆ€ï¼šå¦‚ä½•çˆ¬å–å¾®ä¿¡å…¬ä¼—å·


---
class: inverse, center, middle

# åˆçª¥é—¨å¾„ï¼šçˆ¬è™«åŸºç¡€çŸ¥è¯†

---

## ä»€ä¹ˆæ˜¯çˆ¬è™«

åœ¨å¹¿è¢¤çš„äº’è”ç½‘ä¸­ï¼Œæœ‰è¿™æ ·ä¸€ç§"çˆ¬è™«ç”Ÿç‰©"ï¼Œç©¿æ¢­äºä¸‡ç»´ç½‘ä¸­ï¼Œå°†æ‰¿è½½ä¿¡æ¯çš„ç½‘é¡µåé£Ÿï¼Œç„¶åäº¤ç”±æœç´¢å¼•æ“è¿›è¡Œè½¬åŒ–ï¼Œå¸æ”¶ï¼Œå¹¶æœ€ç»ˆ"å­µåŒ–"å‡ºç»“æ„åŒ–çš„æ•°æ®ï¼Œä¾›äººå¿«é€ŸæŸ¥æ‰¾ï¼Œå±•ç¤ºã€‚

è¿™ç§"ç”Ÿç‰©"ï¼Œå…¶åæ›°"ç½‘ç»œèœ˜è››"ï¼ˆåˆè¢«ç§°ä¸ºç½‘é¡µèœ˜è››ï¼Œç½‘ç»œæœºå™¨äººï¼‰ã€‚ç½‘ç»œèœ˜è››è™½ä»¥æ•°æ®ä¸ºé£Ÿï¼Œä½†æ˜¯æ•°æ®çš„ç”Ÿäº§è€…-ç½‘ç«™ï¼Œä¹Ÿéœ€è¦å€ŸåŠ©çˆ¬è™«çš„å¸®åŠ©ï¼Œå°†ç½‘é¡µæäº¤ç»™æœç´¢å¼•æ“ã€‚

&lt;img src="http://www.chipscoco.com/zb_users/upload/2021/02/202102051612492579435384.jpg" width="30%" /&gt;
---

## ä¸ºä»€ä¹ˆè¦çˆ¬è™«

- ç¤¾ä¼šç§‘å­¦ç ”ç©¶éœ€è¦çš„æ•°æ®æ›´åŠ å¤šå…ƒ

- ä½†æ•°æ®æºæ‹’ç»ç»™æˆ‘ä»¬ç»“æ„åŒ–çš„æ•°æ®æŸ¥è¯¢æ–¹å¼æˆ–API

---

## çˆ¬è™«èƒ½å¹²ä»€ä¹ˆï¼Ÿ

## çˆ¬è™«çš„å…¸å‹æ¡ˆä¾‹ï¼šæœç´¢å¼•æ“

æœç´¢å¼•æ“æ˜¯Webæ—¶ä»£ç”¨æˆ·ä½¿ç”¨äº’è”ç½‘çš„å…¥å£å’ŒæŒ‡å—ã€‚

ç½‘ç»œçˆ¬è™«æ˜¯æœç´¢å¼•æ“ç³»ç»Ÿä¸­ååˆ†é‡è¦çš„ç»„æˆéƒ¨åˆ†ï¼Œå®ƒè´Ÿè´£ä»äº’è”ç½‘ä¸­æœé›†ç½‘é¡µï¼Œé‡‡é›†ä¿¡æ¯ï¼Œè¿™äº›ç½‘é¡µä¿¡æ¯ç”¨äºå»ºç«‹ç´¢å¼•ä»è€Œä¸ºæœç´¢å¼•æ“æä¾›æ”¯æŒï¼Œå®ƒå†³å®šç€æ•´ä¸ªå¼•æ“ç³»ç»Ÿçš„å†…å®¹æ˜¯å¦ä¸°å¯Œï¼Œä¿¡æ¯æ˜¯å¦å³æ—¶ï¼Œå› æ­¤å…¶æ€§èƒ½çš„ä¼˜åŠ£ç›´æ¥å½±å“ç€æœç´¢å¼•æ“çš„æ•ˆæœã€‚

&lt;img src="https://piaosanlang.gitbooks.io/spiders/content/photos/01-engine.png" width="50%" /&gt;

---

## ç½‘ç»œåŸºç¡€çŸ¥è¯†

- ç½‘ç»œè®¿é—®æ˜¯ä¸ªä»€ä¹ˆæ ·çš„è¿‡ç¨‹

- URIå’ŒURLï¼šæˆ‘ä»¬æƒ³è¦çš„ä¸œè¥¿å­˜åœ¨å“ªé‡Œï¼Ÿ

- Hypertextï¼šæˆ‘ä»¬æƒ³è¦çš„ä¸œè¥¿ä»¥ä»€ä¹ˆæ–¹å¼å­˜åœ¨

- HTTPå’ŒHTTPSï¼šæˆ‘ä»¬æƒ³è¦çš„ä¸œè¥¿ä»¥ä»€ä¹ˆæ ·çš„æ–¹å¼ä¼ è¾“

- HTTPè¯·æ±‚è¿‡ç¨‹ï¼šæˆ‘ä»¬å¦‚ä½•å‘Šè¯‰åˆ«äººæˆ‘ä»¬æƒ³è¦ä»€ä¹ˆ

---

## ç½‘ç»œè®¿é—®æ˜¯ä¸ªä»€ä¹ˆæ ·çš„è¿‡ç¨‹

&gt; â€œç½‘ç«™æ˜¯æŠŠä¸ªäººè®¡ç®—æœºè¿ä¸Šç½‘ç»œçš„è¿‡ç¨‹ï¼Œçˆ¬è™«å°±æ˜¯é€šè¿‡ç½‘ç»œåˆ°åˆ«äººè®¡ç®—æœºä¸‹è½½æ•°æ®â€

çˆ¬è™«æ˜¯æ¨¡æ‹Ÿç”¨æˆ·åœ¨æµè§ˆå™¨æˆ–è€…æŸä¸ªåº”ç”¨ä¸Šçš„æ“ä½œï¼ŒæŠŠæ“ä½œçš„è¿‡ç¨‹ã€å®ç°è‡ªåŠ¨åŒ–çš„ç¨‹åºã€‚
å½“æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ä¸€ä¸ªurlåå›è½¦ï¼Œåå°ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ

ç®€å•æ¥è¯´è¿™æ®µè¿‡ç¨‹å‘ç”Ÿäº†ä»¥ä¸‹å››ä¸ªæ­¥éª¤ï¼š

- æŸ¥æ‰¾åŸŸåå¯¹åº”çš„IPåœ°å€ã€‚

- å‘IPå¯¹åº”çš„æœåŠ¡å™¨å‘é€è¯·æ±‚ã€‚

- æœåŠ¡å™¨å“åº”è¯·æ±‚ï¼Œå‘å›ç½‘é¡µå†…å®¹ã€‚

- æµè§ˆå™¨è§£æç½‘é¡µå†…å®¹ã€‚

---

## ç½‘ç»œè®¿é—®æ˜¯ä¸ªä»€ä¹ˆæ ·çš„è¿‡ç¨‹

&lt;img src="https://piaosanlang.gitbooks.io/spiders/content/photos/01-webdns.jpg" width="90%" /&gt;

---

## URIå’ŒURLï¼šæˆ‘ä»¬æƒ³è¦çš„ä¸œè¥¿å­˜åœ¨å“ªé‡Œï¼Ÿ

Universar Resource Locator(URL)ï¼Œç»Ÿä¸€èµ„æºå®šä½ç¬¦

Uniform Resource Identifier(URI)ï¼Œç»Ÿä¸€èµ„æºæ ‡å¿—ç¬¦

--

URI = URN + URL

--

URN:åªå‘½åèµ„æºè€Œä¸æŒ‡å®šå¦‚ä½•å®šä½èµ„æºï¼Œæ¯”å¦‚:

isbn:1203102348

å®ƒåªæ˜¯æŒ‡å®šäº†ä¸€æœ¬ä¹¦çš„ISBNï¼Œå¯ä»¥å”¯ä¸€æ ‡è¯†è¿™æœ¬ä¹¦ï¼Œä½†æ˜¯æ²¡æœ‰æŒ‡å®šåˆ°å“ªé‡Œå®šä½è¿™æœ¬ä¹¦

---

## URL

&gt; https://www.baidu.com/

&gt; https://github.com/syfyufei/Rworkshop2022/blob/main/WebCrawler/WebCrawler.html

&gt; http://166.111.105.29:8787/


urlçš„åŸºæœ¬æ ¼å¼ï¼š

- schema://host[:port#]/path/â€¦/

- schemaï¼š åè®®ï¼ˆä¾‹å¦‚ï¼šhttpï¼Œhttpsï¼Œftpï¼‰

- hostï¼šæœåŠ¡å™¨çš„IPæˆ–åŸŸå

- portï¼šæœåŠ¡å™¨çš„ç«¯å£

- pathï¼šè®¿é—®èµ„æºçš„è·¯å¾„

---

## Hypertextï¼šæˆ‘ä»¬æƒ³è¦çš„ä¸œè¥¿ä»¥ä»€ä¹ˆæ–¹å¼å­˜åœ¨

è¶…æ–‡å­—ï¼ˆHypertextï¼‰ï¼šæµè§ˆå™¨é‡Œçœ‹åˆ°çš„ç½‘é¡µå°±æ˜¯Hypertextè§£æè€Œæˆçš„ï¼Œå…¶ç½‘é¡µæºä»£ç æ˜¯ä¸€ç³»åˆ—çš„HTMLä»£ç ï¼Œé‡Œé¢åŒ…å«äº†ä¸€ç³»åˆ—çš„æ ‡ç­¾ï¼Œæ¯”å¦‚ï¼š

- img æ ‡ç­¾æ˜¾ç¤ºå›¾ç‰‡
- p æ ‡ç­¾æŒ‡å®šæ˜¾ç¤ºæ®µè½
- aæ ‡ç­¾æŒ‡å®šé“¾æ¥

--

.navy[å­¦ä¼šçœ‹æºç å•¦ï¼Œä¸‹æ¬¡é‡åˆ°æŸäº›ç½‘é¡µç¦æ­¢å¤åˆ¶ç½‘é¡µå†…å®¹ï¼Œä½ æƒ³åˆ°äº†è§£å†³åŠæ³•å—ï¼Ÿ]

---

## HTTPå’ŒHTTPSï¼šæˆ‘ä»¬æƒ³è¦çš„ä¸œè¥¿ä»¥ä»€ä¹ˆæ ·çš„æ–¹å¼ä¼ è¾“

æ–‡æœ¬ä¼ è¾“åè®®ï¼š

- http

- https

- ftp

- sftp


HTTPï¼ˆHyper Text Transfer Protocol)è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œç”¨äºä»ç½‘ç»œä¼ è¾“è¶…æ–‡æœ¬æ•°æ®åˆ°æœ¬åœ°æµè§ˆå™¨çš„ä¼ è¾“åè®®ï¼Œèƒ½ä¿è¯é«˜æ•ˆè€Œå‡†ç¡®çš„ä¼ é€è¶…æ–‡æœ¬æ–‡æ¡£ã€‚ç”±ä¸‡ç»´ç½‘åä¼šï¼ˆWorld Wide Web Consortiumï¼‰å’ŒInternetå·¥ä½œå°ç»„IETFï¼ˆInternet Engineering Task Forceï¼‰å…±åŒåˆä½œå’Œåˆ¶å®šçš„è§„èŒƒã€‚

HTTPSï¼ˆHyper Test Transfer protocol over .red[Secure Socket Layer]ï¼‰æ˜¯ä»¥å®‰å…¨ä¸ºç›®æ ‡çš„HTTPé€šé“ï¼Œç®€å•è®²æ˜¯HTTPçš„å®‰å…¨ç‰ˆï¼Œå³HTTPä¸‹åŠ å…¥SSLå±‚ï¼Œç®€ç§°ä¸ºHTTPSï¼Œå®‰å…¨åŸºç¡€æ˜¯SSLï¼Œå› æ­¤é€šè¿‡å®ƒä¼ è¾“çš„å†…å®¹éƒ½æ˜¯ç»è¿‡SSLåŠ å¯†ã€‚

---

## è¯·æ±‚å’Œå“åº”ï¼šæˆ‘ä»¬å¦‚ä½•å‘Šè¯‰åˆ«äººæˆ‘ä»¬æƒ³è¦ä»€ä¹ˆ

åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ä¸€ä¸ªurlï¼Œå›è½¦ä¹‹åä¾¿å¯ä»¥åœ¨æµè§ˆå™¨ä¸­è§‚å¯Ÿåˆ°é¡µé¢å†…å®¹ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯æµè§ˆå™¨å‘ç½‘ç«™æ‰€åœ¨çš„æœåŠ¡å™¨å‘é€äº†ä¸€ä¸ªè¯·æ±‚ï¼Œç½‘ç«™çš„æœåŠ¡å™¨æ¥æ”¶åˆ°è¿™ä¸ªè¯·æ±‚åè¿›è¡Œå¤„ç†å’Œè§£æï¼Œç„¶åå°†å¯¹åº”çš„å“åº”ä¼ å›ç»™æµè§ˆå™¨ã€‚

- General(æ€»è§ˆ)

- Response Headersï¼ˆå“åº”å¤´ï¼‰

- **Request Headersï¼ˆè¯·æ±‚å¤´ï¼‰**

---

## è¯·æ±‚

- è¯·æ±‚æ–¹æ³•ï¼ˆRequest Method)

- è¯·æ±‚çš„ç½‘å€ï¼ˆRequest URLï¼‰

- è¯·æ±‚å¤´ ï¼ˆRequest Headers)

---

## è¯·æ±‚æ–¹æ³•

GET:

åœ¨æµè§ˆå™¨ä¸­ç›´æ¥è¾“å…¥URLå¹¶å›è½¦ï¼Œä¾¿å‘èµ·äº†ä¸€ä¸ªGETè¯·æ±‚ï¼Œè¯·æ±‚çš„å‚æ•°ä¼šåŒ…å«åœ¨URLä¸­


POST:

POSTè¯·æ±‚å¤§å¤šæ•°åœ¨è¡¨å•æäº¤æ—¶å‘èµ·ï¼Œä¾‹å¦‚ï¼šå¯¹äºä¸€ä¸ªç™»å½•è¡¨å•ï¼Œè¾“å…¥ç”¨æˆ·åå’Œå¯†ç åï¼Œç‚¹å‡»â€œç™»å½•â€æŒ‰é’®ï¼Œè¿™é€šå¸¸ä¼šå‘èµ·ä¸€ä¸ªPOSTè¯·æ±‚ï¼Œèµ·æ•°æ®é€šå¸¸ä»¥è¡¨å•çš„å½¢å¼ä¼ è¾“ï¼Œè€Œä¸ä¼šä½“ç°åœ¨URLä¸­ã€‚


GETå’ŒPOSTçš„åŒºåˆ«ï¼š

- GETè¯·æ±‚ä¸­çš„å‚æ•°åŒ…å«åœ¨URLä¸­ï¼Œæ•°æ®å¯ä»¥åœ¨URLä¸­çœ‹åˆ°ï¼Œè€ŒPOSTè¯·æ±‚çš„URLä¸ä¼šåŒ…å«è¿™äº›æ•°æ®ï¼Œæ•°æ®éƒ½æ˜¯é€šè¿‡è¡¨å•çš„å½¢å¼ä¼ è¾“çš„ï¼Œä¼šåŒ…å«åœ¨è¯·æ±‚ä½“ä¸­

- GETè¯·æ±‚æäº¤çš„æ•°æ®æœ€å¤šåªæœ‰1024å­—èŠ‚ï¼Œè€ŒPOSTè¯·æ±‚æ²¡æœ‰é™åˆ¶

---

## è¯·æ±‚çš„ç½‘å€

è¯·æ±‚çš„ç½‘å€ï¼šå³ç»Ÿä¸€èµ„æºå®šä½ç¬¦URLï¼Œå¯ä»¥å”¯ä¸€ç¡®å®šæˆ‘ä»¬æƒ³è¦è¯·æ±‚çš„èµ„æº


## è¯·æ±‚å¤´

ç”¨æ¥è¯´æ˜æœåŠ¡å™¨è¦ä½¿ç”¨çš„é™„åŠ ä¿¡æ¯ï¼Œæ¯”è¾ƒé‡è¦çš„ä¿¡æ¯æœ‰Cookieã€User-Agent

Cookieï¼šä¹Ÿå¸¸ç”¨å¤æ•°å½¢å¼Cookiesï¼Œè¿™æ˜¯ç½‘ç«™ä¸ºäº†è¾¨åˆ«ç”¨æˆ·è¿›è¡Œä¼šè¯è·Ÿè¸ªè€Œå­˜å‚¨åœ¨æœ¬åœ°çš„æ•°æ®ï¼Œå®ƒçš„ä¸»è¦åŠŸèƒ½æ˜¯ç»´æŒå½“å‰è®¿é—®ä¼šè¯ã€‚ä¾‹å¦‚ï¼šæˆ‘ä»¬è¾“å…¥ç”¨æˆ·åå’Œå¯†ç æˆåŠŸç™»é™†åˆ°æŸä¸ªç½‘ç«™åï¼ŒæœåŠ¡å™¨ä¼šç”¨ä¼šè¯ä¿å­˜ç™»é™†çŠ¶æ€ä¿¡æ¯ï¼Œåé¢æˆ‘ä»¬æ¯æ¬¡åˆ·æ–°æˆ–è¯·æ±‚è¯¥ç«™ç‚¹çš„å…¶å®ƒé¡µé¢æ—¶ï¼Œä¼šå‘ç°éƒ½æ˜¯ç™»é™†çŠ¶æ€ï¼Œè¿™å°±æ˜¯Cookieçš„åŠŸåŠ³ã€‚Cookiesé‡Œé¢æœ‰ä¿¡æ¯æ ‡è¯†äº†æˆ‘ä»¬æ‰€å¯¹åº”çš„æœåŠ¡å™¨çš„ä¼šè¯ï¼Œæ¯æ¬¡åœ¨è¯·æ±‚è¯¥ç«™ç‚¹æ—¶ï¼Œéƒ½ä¼šåœ¨è¯·æ±‚å¤´é•¿åŠ ä¸ŠCookieså¹¶å°†å…¶å‘é€ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨é€šè¿‡Cookiesè¯†åˆ«å‡ºæ˜¯æˆ‘ä»¬è‡ªå·±ï¼Œå¹¶ä¸”æŸ¥å‡ºå½“å‰çŠ¶æ€æ˜¯ç™»é™†çŠ¶æ€ï¼Œæ‰€ä»¥è¿”å›ç»“æœå°±æ˜¯ç™»é™†ä¹‹åæ‰èƒ½çœ‹åˆ°çš„ç½‘é¡µå†…å®¹ã€‚

User-Agentï¼šç®€ç§°UAï¼Œå®ƒæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å­—ç¬¦ä¸²å¤´ï¼Œå¯ä»¥ä½¿æœåŠ¡å™¨è¯†åˆ«å®¢æˆ·ä½¿ç”¨çš„æ“ä½œç³»ç»ŸåŠç‰ˆæœ¬ã€æµè§ˆå™¨åŠç‰ˆæœ¬ä¿¡æ¯ç­‰ã€‚åœ¨åšçˆ¬è™«æ˜¯åŠ ä¸Šæ­¤ä¿¡æ¯ï¼Œå¯ä»¥å°†çˆ¬è™«ä¼ªè£…æˆæµè§ˆå™¨ï¼Œå¦‚æœä¸åŠ ï¼Œå°†ä¼šæ˜¯é»˜è®¤çš„çˆ¬è™«çš„UAï¼Œå¾ˆæœ‰å¯èƒ½ä¼šè¢«è¯†åˆ«ä¸ºçˆ¬è™«ã€‚

---

## å“åº”

å“åº”çŠ¶æ€ç è¡¨ç¤ºæœåŠ¡å™¨çš„å“åº”çŠ¶æ€ï¼š

200	æ­£å¸¸

301	æœ¬ç½‘é¡µæ°¸ä¹…æ€§è½¬ç§»è¾¾åˆ°å¦ä¸€ä¸ªåœ°å€

400	è¯·æ±‚å‡ºç°è¯­æ³•é”™è¯¯

403	å®¢æˆ·ç«¯æœªèƒ½è·å¾—æˆæƒ

404	åœ¨æŒ‡å®šä½ç½®ä¸å­˜åœ¨æ‰€ç”³è¯·çš„èµ„æº

500	æœåŠ¡å™¨é‡åˆ°äº†æ„æ–™ä¸åˆ°çš„æƒ…å†µ

503	æœåŠ¡å™¨ç”±äºç»´æŠ¤æˆ–è€…è´Ÿè½½è¿‡é‡æœªèƒ½åº”ç­”

---
class: inverse, center, middle

# åˆ©åˆƒå‡ºé˜ï¼šæˆ‘ä»¬çš„çˆ¬è™«å·¥å…·ç®±

---

## åˆ©åˆƒå‡ºé˜ï¼šæˆ‘ä»¬çš„çˆ¬è™«å·¥å…·ç®±

- é›¶ä»£ç çˆ¬è™«å·¥å…·ï¼šâ€œå…«çˆªé±¼â€

- ç¼–ç¨‹è¯­è¨€ä»¬

- ç½‘ç»œæŠ“åŒ…å·¥å…·

---
class: inverse, center, middle

# å°è¯•ç‰›åˆ€ï¼šå¦‚ä½•ä½¿ç”¨RæŠ“å–æ”¿åºœç½‘é¡µ

---

## å¦‚ä½•è§£æä¸€ä¸ªçˆ¬è™«é¡¹ç›®

- äººæ€ä¹ˆæ“ä½œï¼Ÿ

&gt; â€œæ··åœ¨ç¾¤ä¼—é˜Ÿä¼ä¸­æ‰æ˜¯æœ€å®‰å…¨çš„â€

- æ¨¡ä»¿äºº

- æœ‰ä»€ä¹ˆåçˆ¬æœºåˆ¶ï¼Ÿ

- æˆ‘ä»¬åº”è¯¥å¦‚ä½•çªç ´è¿™äº›åçˆ¬æœºåˆ¶ï¼Ÿ

- æœ‰æ²¡æœ‰å¥½æ–¹æ³•ï¼Ÿ

---

## å°è¯•ç‰›åˆ€ï¼šå¦‚ä½•ä½¿ç”¨RæŠ“å–æ”¿åºœç½‘é¡µ

- æ„é€ URLsæ± å­

- å¾ªç¯è¿›è¡Œ

&gt; https://www.gov.mo/zh-hant/news/

---

## çˆ¬å–æ¾³é—¨æ”¿åºœæ–°é—»


```r
# http://selectorgadget.com/

urls&lt;- data.frame(1:4295)
names(urls) &lt;- "url"
for (n in 1:4295) {
  urls$url[n] &lt;- paste0("https://www.gov.mo/zh-hant/news-search/page/", n, "/?category_id&amp;entity_id&amp;start_date&amp;end_date")
  print(n)
}
links &lt;- data.frame()

for (n in 1:length(urls$url)) {
  partlink &lt;- read_html(urls$url[n]) %&gt;% 
  html_nodes(".links a") %&gt;% 
  html_attrs()
  linksP1 &lt;- data.frame(unlist(partlink))
  links &lt;- rbind(links, linksP1)
  print(n)
}

https://www.gov.mo/zh-hant/news-search/page/100/?category_id&amp;entity_id&amp;start_date&amp;end_date

read_html("https://www.gov.mo/zh-hant/news-search/page/100/?category_id&amp;entity_id&amp;start_date&amp;end_date") %&gt;% 
  html_nodes(".links a") %&gt;% 
  html_attrs()
```

---

## å¤§è¯•ç‰›åˆ€ï¼šå¦‚ä½•çˆ¬å–å¾®ä¿¡å…¬ä¼—å·

## é¡¹ç›®è§£æï¼šå›°éš¾åœ¨å“ªï¼Ÿ

- å¾®ä¿¡å…¬ä¼—å·å†å²çš„æ‰€æœ‰æ–‡ç« ï¼ˆåœ¨å°é—­çš„ç³»ç»Ÿå†…å¦‚ä½•æ„é€ IPæ± å­ï¼‰

--

-å¦‚ä½•è·å¾—æ°¸ä¹…é“¾æ¥

--

- åœ¨ç½‘é¡µæ‰“å¼€æ˜¯çœ‹ä¸åˆ°è¯„è®ºçš„å•Šå–‚


---

## ç½‘ç»œæŠ“åŒ…

äº’åŠ¨ç¯èŠ‚ï¼šä»€ä¹ˆæ˜¯æŠ“åŒ…ï¼Ÿ

--

æŠ“åŒ…å°±æ˜¯å°†ç½‘ç»œä¼ è¾“å‘é€ä¸æ¥æ”¶çš„æ•°æ®åŒ…è¿›è¡Œæˆªè·ã€é‡å‘ã€ç¼–è¾‘ã€è½¬å­˜ç­‰æ“ä½œ

&lt;img src="https://pic1.zhimg.com/80/v2-dbea07ea287aee9383bf51fb65f82524_720w.jpg" width="60%" /&gt;

---

---

class: inverse, center, middle

# ğŸ¦€ï¸èŸ¹èŸ¹ğŸ¦€ï¸

ğŸ“§[sunyf20@mails.tsinghua.edu.cn](mailto:sunyf20@mails.tsinghua.edu.cn) 

ğŸ§‘â€ğŸ’»[Github: syfyufei](https://syfyufei.github.io/)

ğŸ’»[Yufei Sun: github.com/syfyufei](https://github.com/syfyufei)




    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"highlightSpans": true,
"countIncrementalSlides": false,
"ratio": "21:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_HTMLorMML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
